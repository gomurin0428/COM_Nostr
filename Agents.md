- ビルドが通ることを確認してから修正完了とすること
- 不要なフォールバック処理は入れないこと
- 返答は日本語でしてください。
- ユニットテストでは、本当に仕様としてNOT_IMPLとなるのが仕様である場合を除いて、実装された後に通るようになるテストケースを実装すること。
- CSharpの拡張メソッドを新しく定義しないでください。
- 記述が古くなったドキュメントは修正するか、完全に不要と思われたら削除してください。
- Nostrの仕様については「Nostrプロトコルの現行仕様まとめ.docx」を参照すること。
- README.mdに、実現すべきCOMコンポーネントのインターフェイスは記載されています。もしインターフェースに変更があればこれも修正してください。
- ユニットテストの際は、ローカルにdockerがある前提で、strfryがインストールされている前提でそれを使って行う事。テストケースごとに異なるリレーサーバーを起動すること。docker run --rm -it -p 7777:7777 -v "${hostPath}:/app/strfry-db" --name strfry dockurr/strfryという感じのコマンドでリレーサーバーを起動できる。
- 今後も別の作業者が引っ掛かりうる落とし穴があれば、TROUBLESHOOTING.mdに記載してください。なければ作ってください。
- ファイルにアクセス(read/writeどちらでも)する場合は、常にdesktop-commander MCPサーバーを使ってください。
- processのoutputを読むときのタイムアウトは10秒で十分です。もしも不足した時は増やしてください。
- 今回何をやったのか、history.mdに記載してください。なければ作ってください。その際は、現在の時刻を秒単位で記録してください。
- ユニットテストなど、タイムアウトが起きる可能性が高い操作は別プロセスでタイムアウト付きで実行してください。タイムアウト時間も、極力短く設定してください。最初は20秒以内にして下さい。
- タイムアウトする可能性がある操作をする前に、history.mdに、今何をやっているのか記録してください。必ずこまめにこれをやってください。
- .csファイルや.cppファイル、.hファイル以外はserenaのシンボルが効いていないので気を付けてください。直接ファイル編集したほうが良いと思います。get_symbols_overview(serenaの)などのシンボル関係の機能をこれらのファイル以外に使わないでください。
- .idlファイルにはserenaのシンボルを使った挿入等はできません。Error executing tool: No symbol with name EOF found in file COM_Blob/COMBlob.idlという風に言われます。
- コマンドを打ってパースエラーが起きたときは、このやり方が正しいということをTROUBLESHOOTING.mdに書いておいてください。
- プロジェクトを新しく作るときは必ず確認してください。
- ユニットテストプロジェクトは必ずCSHarpで書いてください。C++ ATLのテストは、COMコンポーネントの登録をしたうえでCSHARPのユニットテストプロジェクトで行います。